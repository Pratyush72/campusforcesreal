<!-- admin_panel/templates/admin_panel/manage_projects.html -->
{% extends 'base.html' %}
{% block content %}
<div class="bg-gray-800 text-white p-4 flex justify-between items-center shadow-md mb-6">
<div class="font-bold text-lg">
  <a href="{% url 'admin_panel:dashboard' %}" class="text-white no-underline ">
    ⚙️ CampusForce Admin Panel
  </a>
</div>
  <div class="space-x-2">
    <a href="{% url 'admin_panel:manage_users' %}" class="bg-indigo-600 hover:bg-indigo-700 px-3 py-1 rounded text-sm">Users</a>
    <a href="{% url 'admin_panel:manage_projects' %}" class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-sm">Projects</a>
    <a href="{% url 'admin_panel:manage_livework' %}" class="bg-yellow-500 hover:bg-yellow-600 px-3 py-1 rounded text-sm">LiveWork</a>
    <a href="{% url 'admin_panel:manage_jobs' %}" class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm">Job Apps</a>
    <a href="/logout/" class="bg-gray-700 hover:bg-gray-900 px-3 py-1 rounded text-sm">Logout</a>
  </div>
</div>
<div class="p-6">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-semibold">Projects</h2>
    <a href="{% url 'admin_panel:add_project' %}" class="bg-green-500 text-white px-3 py-2 rounded">Add Project</a>
  </div>

  <div class="bg-white rounded shadow p-4">
    <table class="w-full text-left">
      <thead class="bg-gray-100">
        <tr><th class="p-2">ID</th><th class="p-2">Title</th><th class="p-2">Plan</th><th class="p-2">Actions</th></tr>
      </thead>
      <tbody>
        {% for p in projects %}
        <tr class="border-b">
          <td class="p-2">{{ p.id }}</td>
          <td class="p-2">{{ p.title }}</td>
          <td class="p-2">{{ p.plan_required }}</td>
          <td class="p-2">
            <a href="{% url 'admin_panel:edit_project' p.id %}" class="text-indigo-600 mr-2">Edit</a>
            <form method="post" action="{% url 'admin_panel:delete_project' p.id %}" style="display:inline;">
              {% csrf_token %}
              <button class="text-red-600" onclick="return confirm('Delete?')">Delete</button>
            </form>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="4" class="p-3 text-gray-500">No projects found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
