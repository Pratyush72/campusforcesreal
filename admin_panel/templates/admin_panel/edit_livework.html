<!-- admin_panel/templates/admin_panel/edit_livework.html -->
{% extends 'base.html' %}

{% block content %}
<div class="bg-gray-800 text-white p-4 flex justify-between items-center shadow-md mb-6">
<div class="font-bold text-lg">
  <a href="{% url 'admin_panel:dashboard' %}" class="text-white no-underline">
    ⚙️ CampusForce Admin Panel
  </a>
</div>
  <div class="space-x-2">
    <a href="{% url 'admin_panel:manage_users' %}" class="bg-indigo-600 hover:bg-indigo-700 px-3 py-1 rounded text-sm">Users</a>
    <a href="{% url 'admin_panel:manage_projects' %}" class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-sm">Projects</a>
    <a href="{% url 'admin_panel:manage_livework' %}" class="bg-yellow-500 hover:bg-yellow-600 px-3 py-1 rounded text-sm">LiveWork</a>
    <a href="{% url 'admin_panel:manage_jobs' %}" class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm">Job Apps</a>
    <a href="/logout/" class="bg-gray-700 hover:bg-gray-900 px-3 py-1 rounded text-sm">Logout</a>
  </div>
</div>
<div class="p-6 max-w-2xl mx-auto">
  <h2 class="text-2xl font-semibold mb-4">{{ action }} Live Work Project</h2>

  {% if error %}
    <div class="bg-red-100 text-red-700 p-2 rounded mb-4">{{ error }}</div>
  {% endif %}

  <form method="post">
    {% csrf_token %}


    <label class="block mb-1">Title</label>
    <input type="text" name="title" value="{{ livework.title|default_if_none:'' }}" class="w-full border p-2 rounded mb-2" required>

    <label class="block mb-1">Description</label>
    <textarea name="description" class="w-full border p-2 rounded mb-2" required>{{ livework.description|default_if_none:'' }}</textarea>

    <label class="block mb-1">Start Date</label>
    <input type="date" name="start_date" value="{{ livework.start_date|date:'Y-m-d' }}" class="w-full border p-2 rounded mb-2" required>

    <label class="block mb-1">End Date</label>
    <input type="date" name="end_date" value="{{ livework.end_date|date:'Y-m-d' }}" class="w-full border p-2 rounded mb-2" required>

    <label class="block mb-1">Plan Required</label>
    <select name="plan_required" class="w-full border p-2 rounded mb-2">
      <option value="">—</option>
      <option value="free" {% if livework.plan_required == 'free' %}selected{% endif %}>Free</option>
      <option value="project" {% if livework.plan_required == 'project' %}selected{% endif %}>Project Pass</option>
      <option value="premium" {% if livework.plan_required == 'premium' %}selected{% endif %}>Premium</option>
    </select>

    <label class="block mb-1">Coins Reward</label>
    <input type="number" name="coins_reward" value="{{ livework.coins_reward|default_if_none:0 }}" class="w-full border p-2 rounded mb-4">

    <div class="flex gap-2 mt-4">
      <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded">{{ action }}</button>
      <a href="{% url 'admin_panel:manage_livework' %}" class="text-gray-600 px-4 py-2 rounded border">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
